# Cloud - protocol stack

![Protocol_Stack](https://user-images.githubusercontent.com/55272324/72347172-ddea0400-371a-11ea-9285-700c63609e23.png)

## 1. protocol stack?

* 프로토콜 스택이란 : 컴퓨터들이 네트워크를 통해 데이터를 주고 받기 위해서는 프로토콜이 필요하다. 이때 프로토콜 스택이란 계층화된 구조로 모여 있는 프로토콜들의 집합을 말한다.
* 계층을 나누는 목적 : 복잡한 네트워크에서 프로토콜들의 역할을 분담하기 위해서 게층을 나누게 된다.
* 계층을 나누는 방식 : 한 게층에 속하는 하나의 프로토콜이 인접한 계층의 다른 프로토콜과 통신을 한다. 이러한 방식으로 꼭대기 게층에서부터 가장 아래에 있는 계층까지 또는 그 반대 방향으로 프로토콜 스택 내에서 통신이 이루어 진다. 컴퓨터간의 물리적인 데이터 송수신은 가장 아래 계층인 물리적 게층에서 이루어진다.



## 2. protocol stack  layer

> 프로토콜 스택은 5계층으로 구성되어 있다.

* 계층의 역할 분담 : 계층별로 주어진 역할들이 있다. 따라서 상위 계층과 하위 계층은 서로 하는 일에 관여하지 않는다.

### 2-1) Application

* 역할 : 송-수신측 사이에 어떤 종류의 데이터를 주고받기 위한 서비스를 정의하는 계층이다.  네트워크 어플리케이션들은 해당 계층과 관계를 가질 수 있으나 나머지 계층들에 대해서는 신경쓰지 않아도 된다.
* 프로토콜

1) HTTP (Hyper Text Transfer Protocol, 초본문전송규약) : www 상에서 정보를 주고받을 수 있는 프로토콜이다.

2) FTP ( File Transfer Protocol, 파일전송규약) : TCP/IP 프로토콜을 가지고 서버와 클라이언트 사이에서 파일을 전송하기 위한 프로토콜이다. 

3) SMTP (Simple Mail Transfer Protocol, 간이 전자 우편 전송 규약) : 인터넷에서 이메일을 보내기 위해 이용되는 프로토콜이다.

4) POP (Post Office Protocol, 우편물 규약) : 응용 계층 인터넷 프로토콜 중 하나로, 원격 서버로부터 TCP/IP 연결을 통해 이메일을 가져오는데 사용되는 프로토콜이다.

5) Telnet : 텔넷은 인터넷이나 로컬 영역 네트워크 연결에 쓰이는 네트워크 프로토콜이다.

* 주고 받는 데이터의 종류 : 메시지

1) 메시지 : 어플리케이션 계층이 보내는 데이터. 파일 전송을 목적으로 하는 FTP의 경우 파일 일부가 메시지에 포함된다.

### 2-2) Transport

* 역할 : 송-수신측 사이 데이터 전송의 신뢰성을 보장하기 위한 계층이다

1) 송신측에서 수신 측으로 패킷이 정상적으로 전달 되었는지 확인한다.

2) 패킷이 정상적으로 전달되지 못했다면 재전송한다.

3) 망에 과부하가 걸리면 전송 속도를 조절한다.

* 프로토콜

1) TCP (Transmission Control Protocol, 전송조종규약) : 인터넷 프로토콜 스위트 (IP)의 핵심 프로토콜의 하나로서 TCP/IP라는 명칭으로 불린다. TCP는 근거리 통신망이나 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간의 일련의 옥텟을 안정적이며, 순서대로 ,에러없이 교환할 수 있게 한다.

2) UDP (User/universal datagram Protocol, 사용자 데이터그램 규약) : 인터넷 프로토콜 스위트(IP)의 핵심 프로톨의 하나이다. TCP와 함께 단문 메시지(데이터그램)을 교환하기 위해 사용된다. UDP의 전송 방식은 너무 단순해서 서비스의 신뢰성이 낮기 대문에 일반적으로 검사와 수정이 필요없는 애플리케이션에서 수행하는 것으로 가정한다.

* 주고 받는 데이터의 종류 : 메시지, 세그먼트

1) 메시지

2) 세그먼트 : 메시지에 세그먼트 헤더를 결합하여 세그먼트가 생성된다. 세그먼트 헤더는 이 계층들 사이의 통신필요한 부가적인 데이터들을 담는다.



### 2-3) Network

* 역할 : 송-수신 기기 사이에는 라우터라는 네트워크 장비들이 있으며, 패킷들은 이들을 거쳐 수신측으로 전달된다.  이때 네트워크 게층은 패킷들이 어떤 라우터를 거쳐 전달되는 지를 결정하는 역할을 한다.

* 프로토콜

1) IP (Internet Protocol) : 송신 호스트와 수신 호스트가 패킷 교환 네트워크에서 정보를 주고받는 데에 사용하는 정보위주의 규약이다. OSI네트워크 계층에서 호스트의 주소지정과 패킷 분할 및 조립 기능을 담당한다.

* 주고 받는 데이터의 종류 : 메시지, 세그먼트,  데이터 그램

1) 메시지

2) 세그먼트 

3) 데이터그램: 세그먼트에 데이터 그램 헤더를 결합하여 데이터그램이 생성도니다. 데이터그램 헤더도 이 게층들의 통신에 필요한 부가적인 데이터들을 담는다. IP프로토콜의 경우 IP주소가 데이터그램의 헤더에 포함된다.

### 2-4) Link

* 역할 : 송-수친 측 사이에 경로가 결정되었을때, 링크 게층은 한 노드에서 인접한 노드로 패캣을 보내기 위한 역할을 한다. 링크 계층이 만드는 패킷을 프레임(frame)이라고 하며, 프레임이 실제로 망에 전송할 패킷에 해당한다.
* 프로토콜

1) Ethernet : 이더넷은 컴퓨터 네트워크 기술의 하나로 ,일반적으로 LAN, MAN 및 WAN에서 가장 많이 활용되는 기술 규격이다.  이더넷은 OSI 모델의 물리 계층에서 신호와 배선, 데이터 링크 계층에서 MAC(Media access control) 패킷과 프로토콜의 형식을 지정한다.

2) Token ring : 토큰링 근거리 통신망(LAN) 기술은 OSI모델의 데이터 링크 게층에서 쓰이는 근거리 통신망 프로토콜이다. IBM에서 토큰링이 Ethernet 보다 안정적이고 빠르다고 주장했으나 성공하지 못하면서 더이상 사용하지 않는 프로토콜이다.

3) FDDI(Fiber Distributed Data interface,광섬유 분산 데이터 접속 방식) : 근거리 통신망에서 데이터 전송을 위한 100 MBit/s의 광 표준을 제공한다.

4) PPP(Point-to-point Protocol, 점대점 프로토콜) : 네트워크 분야에서 두 통신 노드 간의 직접적인 연결을 위해 일반적으로 사용되는 데이터링크 프로토콜이다. PPP는 인증, 암호화를 통한 전송 및 데이터 압축 기능을 제공한다.

* 주고 받는 데이터의 종류 : 메시지, 세그먼트,  데이터 그램, 프레임

1) 메시지

2) 세그먼트 

3) 데이터그램

4) 프레임 : 데이터그램에 프레임 헤더를 결합하여 프레임이 생성된다. 프레임 헤더 역시 링크 게층들의 통신에 필요한 데이터를 담는다.

### 2-5) Physical

* 역할 : 물리적 게층은 한 노드의 링크 게층에서 생성한 프레임을 인접한 노드로 보내는 역할을 수행한다.

1) 변조 : 각 비트가 전기적인 신호로 변하는 것. 변조된 프레임을 유무선을 통해 다른 노드로 전달한다.

2) 복조 :  수신 노드가 전달받은 변조된 프레임을 원래의 데이터로 복원하는 것.

* 프로토콜

1) (IEEE)802 : 근거리 통신망과 도시권 통신망을 관할하는 IEEE(Institute of Electrical and Electronics Engineers, 전기 전자 기술자 협회) 표준 규칙들의 계열.

2) 3u

* 주고 받는 데이터의 종류 : 비트

1) 비트 : 프레임을 구성하는 비트는 유, 무선으로 전송하기 위해 신호로 바뀐다. 수신측에서는 전달받은 비트를 다시 원복한다.

## 3. 주고받는 데이터 도식화

### 3-1) 계층들 사이에 주고받는 데이터

![Data_Flow_between_Protocol_Stacks](https://user-images.githubusercontent.com/55272324/72352037-e3e4e280-3724-11ea-8144-8857232d3705.png)

### 3-2) 동일 계층들이 주고 받는 데이터

![Data_Flow_between_Same_Layers](https://user-images.githubusercontent.com/55272324/72352038-e3e4e280-3724-11ea-8b58-9be437f86a5c.png)